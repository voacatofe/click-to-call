[transport-wss]
type=transport
protocol=wss
bind=127.0.0.1:8089
cert_file=/etc/asterisk/keys/asterisk.crt
priv_key_file=/etc/asterisk/keys/asterisk.key
method=tlsv1_2

; --- Templates ---
[auth-userpass](!)
type=auth
auth_type=userpass

[aor-single-contact](!)
type=aor
max_contacts=1

[webrtc-endpoint](!)
type=endpoint
context=from-internal
disallow=all
allow=opus,ulaw
transport=transport-wss
webrtc=yes
dtls_auto_generate_cert=yes
force_rport=yes
rtp_symmetric=yes
direct_media=no

; --- Agente 1001 (WSS-only) ---
[agent-1001](webrtc-endpoint)
auth=auth-1001
aors=agent-1001

[auth-1001](auth-userpass)
username=agent-1001
password=${AGENT_1001_PASSWORD:-changeme_update_this}
realm=clicktocall.local ; Define o realm para este auth

[agent-1001](aor-single-contact)
; 