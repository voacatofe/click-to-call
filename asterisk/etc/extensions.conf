[general]
static=yes
writeprotect=no
clearglobalvars=no

[globals]
; ===== VARIÁVEIS GLOBAIS (CONFORME DOCUMENTAÇÃO) =====
CONSOLE=Console/dsp
IAXINFO=guest
TRUNK=DAHDI/G2
TRUNKMSD=1

; ===== CONFIGURAÇÕES DO SISTEMA =====
EMERGENCY=911
ATTENDANT=100

; ===== CONTEXTO PRINCIPAL - AGENTES WEBRTC =====
[from-internal]
; Configuração baseada na documentação oficial Asterisk

; ===== RAMAIS INTERNOS =====
; Agente 1001
exten => 1001,1,NoOp(Chamada para Agent 1001)
 same => n,Dial(PJSIP/agent-1001,30,rtT)
 same => n,Voicemail(1001@default,u)
 same => n,Hangup()

; Agente 1002  
exten => 1002,1,NoOp(Chamada para Agent 1002)
 same => n,Dial(PJSIP/agent-1002,30,rtT)
 same => n,Voicemail(1002@default,u)
 same => n,Hangup()

; ===== TESTES E DIAGNOSTICOS =====
; Teste de eco (padrão da documentação)
exten => 9999,1,NoOp(Teste de Echo - WebRTC)
 same => n,Answer()
 same => n,Wait(1)
 same => n,Playback(demo-echotest)
 same => n,Echo()
 same => n,Hangup()

; Teste de playback
exten => 8888,1,NoOp(Teste de Playback)
 same => n,Answer()
 same => n,Wait(1)
 same => n,Playback(hello-world)
 same => n,Playback(demo-congrats)
 same => n,Hangup()

; Teste de música de espera
exten => 7777,1,NoOp(Teste de Music on Hold)
 same => n,Answer()
 same => n,MusicOnHold(default,300)
 same => n,Hangup()

; ===== SERVIÇOS ESPECIAIS =====
; Correio de voz
exten => *97,1,NoOp(Acesso ao Voicemail)
 same => n,VoiceMailMain(${CALLERID(num)}@default)
 same => n,Hangup()

; Status do sistema
exten => *43,1,NoOp(Status do Sistema)
 same => n,Answer()
 same => n,Wait(1)
 same => n,Playback(system-status)
 same => n,SayUnixTime()
 same => n,Hangup()

; ===== TRATAMENTO DE ERRO =====
; Extensão inválida
exten => _X.,1,NoOp(Extensao Invalida: ${EXTEN})
 same => n,Answer()
 same => n,Wait(1)
 same => n,Playback(invalid)
 same => n,SayDigits(${EXTEN})
 same => n,Hangup()

; Timeout/hang
exten => t,1,NoOp(Timeout na chamada)
 same => n,Playback(sorry)
 same => n,Hangup()

; Linha ocupada
exten => h,1,NoOp(Chamada finalizada)
 same => n,HangUp()

; ===== CONTEXTO DE ENTRADA (EXTERNO) =====
[from-external]
; Contexto para chamadas externas (caso necessário no futuro)
include => from-internal

; ===== CONTEXTO DE FEATURES =====
[featuremap]
; Configurações de features conforme documentação
; *1 = transferência atendida
; *2 = transferência cega
; *3 = gravação de chamada

; ===== CONTEXTO PARKEDCALLS =====
[parkedcalls]
; Configuração para estacionamento de chamadas
; Conforme documentação oficial 